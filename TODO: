1) ctree_sort Сортировку переделать лучше полностью, у вас с циклами странно все, вот видео с визуализацией этого
https://www.youtube.com/watch?v=8oJS1BMKE64
Причем когда вы их объединяете, вам тоже нужно делать сортировку одного элемента который вы получаете. (Просто один цикл в котором вы бежите)
//А еще можете нагуглить эту сортировку и под себя ее переделать

2) Сделайте 257 одной константой, а не тремя разными, киньте ее в definitions.h и везде замените все 257 в коде на нее

3) ctree_build_tree когда вы делаете дерево, и объединяете два элемента, вы опять сортировать его должны

4) ctree_build_tree индекс который бежит по массиву нодов должен быть не такой как у массива интов, потому что вы пропускаете 0, кстати, сейчас у вас стоит ==, а не != в условии. И увеличиваете его когда срабатывает соответственно когда заходите в if

5) Сделать везде где можно free и fclose, вызвать освобождение дерева, вот это все

6) calc_codes выделяйте память маллоком под symbols[...] перед тем как туда что-то записывать. Ну и потом нужно будет сделать free для этого

7) code_char возможно не стоит печатать все 257 символов массива, а только те которые вы заполняли. Все таки не зря же делали size в code

8)code_char вы делаете пустой битстрим и отправляете его в функцию, при этом вы принимаете какой-то битстрим, но отправляете его в далекое путешествие куда подальше

9) decode Возможно чтобы читать из файла нужно сделать файл, но это не точно

10) Добавьте символ конца файла в енкодер
